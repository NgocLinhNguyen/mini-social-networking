%ul.breadcrumb
  %li
    %a{:href => "#"} Home
  %li
    %a{:href => "#"} Groups
.page-title
  %h2
    %span.fa.fa-rss-square
    Groups
.page-content-wrap
  .row
    .col-md-12
      .panel.panel-default
        .panel-heading
          %h3.panel-title
            Group
          .pull-right#new
            %a.btn.btn-success{ href: "#new_group" }
              %span.fa.fa-plus
              New Group
        .panel-body
          %table.table.table-striped
            %tr
              - @groups.each do |group|
                %td
                  / = group.cover
                %td
                  = link_to "#{ group.name }", group_path(group)
                  %p
                    %small
                      #{ group.user_groups.count } members
                %td
                  / - if current_user != group.id
                  %a{ href: user_groups_path(user_id: current_user.id, group_id: group.id) }
                    %button
                      %span.fa.fa-plus
                      Join
#new_group.modal.fade{"aria-hidden" => "true", "aria-labelledby" => "myModalLabel", :role => "dialog", :tabindex => "-1"}
  .modal-dialog{:role => "document"}
    .modal-content
      .modal-header
        %button.close{"aria-label" => "Close", "data-dismiss" => "modal", :type => "button"}
          %span{"aria-hidden" => "true"} Ã—
        %h4#myModalLabel.modal-title Create a group
      .modal-body
        .form-horizontal
          = form_for @group do |f|
            .form-group
              .col-md-12
                .title
                  Group name
                = f.text_field :name, class: "form-control"
            .form-group
              .col-md-12
                .title
                  Select Privacy of Group
                = f.select :kind, [["Protected", "protected"], ["Private", "private"], ["Public", "public"]], class: "btn btn-primary"
            .form-group
              .col-md-12
                = f.submit "Save", class: "btn btn-success"
:javascript
  $("#new").click(function() {
    $("#new_group").modal("show");
  });
